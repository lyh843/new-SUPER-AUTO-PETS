# Super Auto Pets - 战斗系统使用指南

## 🎮 快速开始

### 1. 准备战斗
1. 打开游戏，点击"游玩"
2. 在商店用金币购买宠物（至少1只）
3. （可选）购买食物强化宠物
4. 点击"结束回合"按钮

### 2. 进入战斗
- 系统自动生成AI对手
- 显示双方队伍
- 点击"开始战斗"按钮

### 3. 观战模式

#### 🏃 自动战斗（推荐新手）
- 点击"⏩ 自动战斗"
- 系统自动执行所有回合
- 每1.5秒执行一步
- 可随时点击"⏸️ 暂停"

#### 🚶 单步执行（适合学习）
- 点击"⏯️ 单步执行"
- 每次点击执行一个回合
- 可以仔细观察战斗过程
- 查看每次攻击的详细信息

### 4. 查看结果
- 战斗结束后显示结果对话框
- 胜利：+1 奖杯 🏆
- 失败：-1 生命 ❤️
- 平局：无变化

### 5. 继续游戏
- 自动返回商店
- 获得10金币
- 开始新回合

## 📖 战斗界面说明

### 队伍显示
```
┌─────────────────────────┐
│   🤖 对手队伍            │
│  [宠物1][宠物2][宠物3]  │
└─────────────────────────┘

┌─────────────────────────┐
│   👤 我方队伍            │
│  [宠物1][宠物2][宠物3]  │
└─────────────────────────┘
```

### 宠物卡片信息
```
┌──────────┐
│   猫     │  ← 宠物名称
│ ⚔️3 ❤️4  │  ← 攻击力 生命值
│ 🛡️护甲   │  ← 特殊状态
└──────────┘
```

### 战斗日志
```
=== 战斗开始！ ===
猫 准备攻击 蚂蚁！
  ➤ 猫 攻击了 蚂蚁，造成 3 点伤害！
    蚂蚁 剩余生命：-1
  💀 蚂蚁 被击败了！
=== 胜利！你赢得了这场战斗！ ===
```

## 🎯 战斗机制

### 攻击顺序
- 双方轮流攻击
- 队伍最前方的宠物先攻击
- 宠物死亡后自动移除

### 伤害计算
```
基础伤害 = 攻击者攻击力

减伤效果：
- 西瓜护盾 🍉：伤害 / 2  (50%减伤)
- 护甲 🛡️：伤害 - 1  (减少1点)

最终伤害 = max(0, 计算后伤害)
```

### 特殊效果

#### 🍄 蘑菇 - 复活
- 宠物死亡时触发
- 恢复1点生命值
- 只能触发一次

#### 🛡️ 大蒜 - 护甲
- 每次受击减少1点伤害
- 持续整场战斗

#### 🍉 西瓜 - 护盾
- 受到伤害减半（50%）
- 持续整场战斗

## 🏆 游戏目标

### 胜利条件
- 获得 **5个奖杯** 🏆

### 失败条件
- 生命值降至 **0** ❤️

### 获取奖杯
- 赢得战斗：+1 奖杯
- 输掉战斗：-1 生命
- 平局：无变化

## 💡 战斗技巧

### 1. 队伍配置
- **前排**：生命值高的宠物
- **后排**：攻击力高的宠物
- **平衡**：攻防兼备

### 2. 食物使用
- **苹果/梨子**：通用加成，适合所有宠物
- **大蒜**：给前排增加护甲
- **西瓜**：给核心宠物增加护盾
- **蘑菇**：给关键宠物增加复活

### 3. 升级策略
- 相同宠物自动合并升级
- 升级提升50%基础属性
- 优先升级核心宠物

### 4. 金币管理
- 初始10金币/回合
- 宠物3金币，食物3-9金币
- 刷新商店1金币
- 出售宠物获得1金币

## 🎲 AI难度

AI对手会根据回合数自动调整：

| 回合数 | 宠物数量 | 等级加成 |
|--------|----------|----------|
| 1-2    | 2只      | 0级      |
| 3-4    | 2-3只    | 1级      |
| 5-6    | 3-4只    | 1级      |
| 7-8    | 4-5只    | 2级      |
| 9-10   | 5只      | 3级      |

## ❓ 常见问题

### Q: 如何暂停战斗？
A: 如果正在自动战斗，点击"⏸️ 暂停"即可。

### Q: 可以重新观看战斗吗？
A: 目前不支持战斗回放，建议使用单步执行仔细观看。

### Q: 战斗中可以返回吗？
A: 可以点击"返回商店"，但会放弃当前战斗。

### Q: 为什么我的攻击伤害变低了？
A: 对手可能有护甲或护盾效果，会减少伤害。

### Q: 宠物能复活几次？
A: 蘑菇效果只能触发一次，复活后剩余1点生命。

## 🎨 界面说明

### 颜色含义
- **绿色** 🟢：友方/胜利
- **红色** 🔴：战斗/失败
- **黄色** 🟡：高亮/行动中
- **灰色** ⚫：中性/对手

### 按钮说明
- ▶️ 开始战斗：初始化战斗
- ⏩ 自动战斗：快速完成
- ⏯️ 单步执行：逐步观看
- ⏸️ 暂停：停止自动
- ⬅️ 返回商店：退出战斗

### 状态图标
- ⚔️ 攻击力
- ❤️ 生命值
- 🛡️ 护甲
- 🍉 护盾
- 🍄 复活

## 🚀 快捷操作

1. **快速战斗**：开始战斗 → 自动战斗
2. **学习模式**：开始战斗 → 单步执行
3. **跳过战斗**：返回商店（放弃战斗）

## 📝 战斗流程图

```
购买宠物
    ↓
[结束回合]
    ↓
查看对手
    ↓
[开始战斗]
    ↓
选择模式
├─ 自动战斗
└─ 单步执行
    ↓
观看战斗
    ↓
查看结果
    ↓
├─ 胜利 → +1奖杯 → 继续
├─ 失败 → -1生命 → 继续或结束
└─ 平局 → 无变化 → 继续
```

---

**提示**：战斗系统已完全实现，现在就可以开始游戏了！🎮

